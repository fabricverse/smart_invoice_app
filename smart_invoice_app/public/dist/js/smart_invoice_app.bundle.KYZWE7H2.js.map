{
  "version": 3,
  "sources": ["../../../../../apps/smart_invoice_app/smart_invoice_app/public/js/customer_quick_entry.js"],
  "sourcesContent": ["frappe.provide(\"frappe.ui.form\");\n\nfrappe.ui.form.CustomerQuickEntryForm = class ContactAddressQuickEntryForm extends (\n\tfrappe.ui.form.QuickEntryForm\n) {\n\tconstructor(doctype, after_insert, init_callback, doc, force) {\n\t\tsuper(doctype, after_insert, init_callback, doc, force);\n\t\tthis.skip_redirect_on_error = true;\n\t}\n\n\trender_dialog() {\n\t\tthis.mandatory = this.mandatory.concat(this.get_variant_fields());\n\t\tsuper.render_dialog();\n\t}\n\n\tvalidate() {\n\t\tconst tpin = this.dialog.doc.tax_id;\n\t\tif (tpin && tpin.length !== 10) {\n\t\t\tfrappe.show_alert({\n\t\t\t\tmessage:__(\"TPIN must be 10 digits\"),\n\t\t\t\tindicator:'red'\n\t\t\t}, 5);\n\t\t\treturn false;\n\t\t}\n\t\tconst mobile_number = this.dialog.doc.mobile_number;\n\n\t\tif (mobile_number && mobile_number.length !== 10) {\n\t\t\tfrappe.show_alert({\n\t\t\t\tmessage:__(\"Phone Number must be 10 digits\"),\n\t\t\t\tindicator:'red'\n\t\t\t}, 5);\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\n\tinsert() {\n\t\t/**\n\t\t * Using alias fieldnames because the doctype definition define \"email_id\" and \"mobile_no\" as readonly fields.\n\t\t */\n\n\t\tif (!this.validate()){\n\t\t\tthis.dialog.hide();\n\t\t\tsuper.render_dialog();\n\t\t\treturn false;\n\t\t}\n\n\t\tconst map_field_names = {\n\t\t\temail_address: \"email_id\",\n\t\t\tmobile_number: \"mobile_no\",\n\t\t};\n\n\t\tObject.entries(map_field_names).forEach(([fieldname, new_fieldname]) => {\n\t\t\tthis.dialog.doc[new_fieldname] = this.dialog.doc[fieldname];\n\t\t\tdelete this.dialog.doc[fieldname];\n\t\t});\n\n\t\treturn super.insert();\n\t}\n\n\tget_variant_fields() {\n\t\tvar variant_fields = [\n\t\t\t{\n\t\t\t\tfieldtype: \"Section Break\",\n\t\t\t\tlabel: __(\"Contact Details\"),\n\t\t\t\tcollapsible: 0,\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __(\"Address Line 1\"),\n\t\t\t\tfieldname: \"address_line1\",\n\t\t\t\tfieldtype: \"Data\",\n\t\t\t\treqd: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __(\"Address Line 2 (Optional)\"),\n\t\t\t\tfieldname: \"address_line2\",\n\t\t\t\tfieldtype: \"Data\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Column Break\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __(\"City\"),\n\t\t\t\tfieldname: \"city\",\n\t\t\t\tfieldtype: \"Data\",\n\t\t\t\treqd: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __(\"Country\"),\n\t\t\t\tfieldname: \"country\",\n\t\t\t\tfieldtype: \"Link\",\n\t\t\t\toptions: \"Country\",\n\t\t\t\tdefault: \"Zambia\",\n\t\t\t\treqd: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __(\"Customer POS Id\"),\n\t\t\t\tfieldname: \"customer_pos_id\",\n\t\t\t\tfieldtype: \"Data\",\n\t\t\t\thidden: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Section Break\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __(\"Phone Number\"),\n\t\t\t\tfieldname: \"mobile_number\",\n\t\t\t\tfieldtype: \"Data\",\n\t\t\t\treqd: 1\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Column Break\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __(\"Email (Optional)\"),\n\t\t\t\tfieldname: \"email_address\",\n\t\t\t\tfieldtype: \"Data\",\n\t\t\t\toptions: \"Email\",\n\t\t\t},\n\t\t];\n\n\t\treturn variant_fields;\n\t}\n};"],
  "mappings": ";;AAAA,SAAO,QAAQ,gBAAgB;AAE/B,SAAO,GAAG,KAAK,yBAAyB,MAAM,qCAC7C,OAAO,GAAG,KAAK,eACd;AAAA,IACD,YAAY,SAAS,cAAc,eAAe,KAAK,OAAO;AAC7D,YAAM,SAAS,cAAc,eAAe,KAAK,KAAK;AACtD,WAAK,yBAAyB;AAAA,IAC/B;AAAA,IAEA,gBAAgB;AACf,WAAK,YAAY,KAAK,UAAU,OAAO,KAAK,mBAAmB,CAAC;AAChE,YAAM,cAAc;AAAA,IACrB;AAAA,IAEA,WAAW;AACV,YAAM,OAAO,KAAK,OAAO,IAAI;AAC7B,UAAI,QAAQ,KAAK,WAAW,IAAI;AAC/B,eAAO,WAAW;AAAA,UACjB,SAAQ,GAAG,wBAAwB;AAAA,UACnC,WAAU;AAAA,QACX,GAAG,CAAC;AACJ,eAAO;AAAA,MACR;AACA,YAAM,gBAAgB,KAAK,OAAO,IAAI;AAEtC,UAAI,iBAAiB,cAAc,WAAW,IAAI;AACjD,eAAO,WAAW;AAAA,UACjB,SAAQ,GAAG,gCAAgC;AAAA,UAC3C,WAAU;AAAA,QACX,GAAG,CAAC;AACJ,eAAO;AAAA,MACR;AACA,aAAO;AAAA,IACR;AAAA,IAEA,SAAS;AAKR,UAAI,CAAC,KAAK,SAAS,GAAE;AACpB,aAAK,OAAO,KAAK;AACjB,cAAM,cAAc;AACpB,eAAO;AAAA,MACR;AAEA,YAAM,kBAAkB;AAAA,QACvB,eAAe;AAAA,QACf,eAAe;AAAA,MAChB;AAEA,aAAO,QAAQ,eAAe,EAAE,QAAQ,CAAC,CAAC,WAAW,aAAa,MAAM;AACvE,aAAK,OAAO,IAAI,iBAAiB,KAAK,OAAO,IAAI;AACjD,eAAO,KAAK,OAAO,IAAI;AAAA,MACxB,CAAC;AAED,aAAO,MAAM,OAAO;AAAA,IACrB;AAAA,IAEA,qBAAqB;AACpB,UAAI,iBAAiB;AAAA,QACpB;AAAA,UACC,WAAW;AAAA,UACX,OAAO,GAAG,iBAAiB;AAAA,UAC3B,aAAa;AAAA,QACd;AAAA,QACA;AAAA,UACC,OAAO,GAAG,gBAAgB;AAAA,UAC1B,WAAW;AAAA,UACX,WAAW;AAAA,UACX,MAAM;AAAA,QACP;AAAA,QACA;AAAA,UACC,OAAO,GAAG,2BAA2B;AAAA,UACrC,WAAW;AAAA,UACX,WAAW;AAAA,QACZ;AAAA,QACA;AAAA,UACC,WAAW;AAAA,QACZ;AAAA,QACA;AAAA,UACC,OAAO,GAAG,MAAM;AAAA,UAChB,WAAW;AAAA,UACX,WAAW;AAAA,UACX,MAAM;AAAA,QACP;AAAA,QACA;AAAA,UACC,OAAO,GAAG,SAAS;AAAA,UACnB,WAAW;AAAA,UACX,WAAW;AAAA,UACX,SAAS;AAAA,UACT,SAAS;AAAA,UACT,MAAM;AAAA,QACP;AAAA,QACA;AAAA,UACC,OAAO,GAAG,iBAAiB;AAAA,UAC3B,WAAW;AAAA,UACX,WAAW;AAAA,UACX,QAAQ;AAAA,QACT;AAAA,QACA;AAAA,UACC,WAAW;AAAA,QACZ;AAAA,QACA;AAAA,UACC,OAAO,GAAG,cAAc;AAAA,UACxB,WAAW;AAAA,UACX,WAAW;AAAA,UACX,MAAM;AAAA,QACP;AAAA,QACA;AAAA,UACC,WAAW;AAAA,QACZ;AAAA,QACA;AAAA,UACC,OAAO,GAAG,kBAAkB;AAAA,UAC5B,WAAW;AAAA,UACX,WAAW;AAAA,UACX,SAAS;AAAA,QACV;AAAA,MACD;AAEA,aAAO;AAAA,IACR;AAAA,EACD;",
  "names": []
}
